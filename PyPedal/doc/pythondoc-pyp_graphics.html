<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'>
<html>
<head>
<meta http-equiv='Content-Type' content='text/html; charset=us-ascii' />
<title>The pyp_graphics Module</title>
</head>
<body>
<h1>The pyp_graphics Module</h1>
<p>pyp_graphics contains routines for working with graphics in PyPedal, such as
creating directed graphs from pedigrees using PyDot and visualizing relationship
matrices using Rick Muller's spy and pcolor routines
(http://aspn.activestate.com/ASPN/Cookbook/Python/).

The Python Imaging Library (http://www.pythonware.com/products/pil/),
matplotlib (http://matplotlib.sourceforge.net/), Graphviz (http://www.graphviz.org/),
and pydot (http://dkbza.org/pydot.html) are required by one or more routines in this
module.  They ARE NOT distributed with PyPedal and must be installed by the end-user!
Note that the matplotlib functionality in PyPedal requires only the Agg backend, which
means that you do not have to install GTK/PyGTK or WxWidgets/PyWxWidgets just to use
PyPedal.  Please consult the sites above for licensing and installation information.</p>
<h2>Module Contents</h2>
<dl>
<dt><a id='pyp_graphics.draw_pedigree-function' name='pyp_graphics.draw_pedigree-function'><b>draw_pedigree(pedobj, gfilename='pedigree', gtitle='', gformat='jpg', gsize='f', gdot='1', gorient='p', gdirec='', gname=0, gfontsize=10, garrow=1, gtitloc='b', gtitjust='c', gshowall=1, gclusters=0)</b></a> &rArr; integer [<a href='#pyp_graphics.draw_pedigree-function'>#</a>]</dt>
<dd>
<p>draw_pedigree() uses the pydot bindings to the graphviz library -- if they
are available on your system -- to produce a directed graph of your pedigree
with paths of inheritance as edges and animals as nodes.  If there is more than
one generation in the pedigree as determind by the &quot;gen&quot; attributes of the animals
in the pedigree, draw_pedigree() will use subgraphs to try and group animals in the
same generation together in the drawing.</p>
<dl>
<dt><i>pedobj</i></dt>
<dd>
A PyPedal pedigree object.</dd>
<dt><i>gfilename</i></dt>
<dd>
The name of the file to which the pedigree should be drawn</dd>
<dt><i>gtitle</i></dt>
<dd>
The title of the graph.</dd>
<dt><i>gformat</i></dt>
<dd>
The format in which the output file should be written  (JPG|PNG|PS).</dd>
<dt><i>gsize</i></dt>
<dd>
The size of the graph: 'f': full-size, 'l': letter-sized page.</dd>
<dt><i>gdot</i></dt>
<dd>
Whether or not to write the dot code for the pedigree graph to a file (can produce large files).</dd>
<dt><i>gorient</i></dt>
<dd>
The orientation of the graph: 'p': portrait, 'l': landscape.</dd>
<dt><i>gdirec</i></dt>
<dd>
Direction of flow from parents to offspring: 'TB': top-bottom, 'LR': left-right, 'RL': right-left.</dd>
<dt><i>gname</i></dt>
<dd>
Flag indicating whether ID numbers (0) or names (1) should be used to label nodes.</dd>
<dt><i>gfontsize</i></dt>
<dd>
Integer indicating the typeface size to be used in labelling nodes.</dd>
<dt><i>garrow</i></dt>
<dd>
Flag indicating whether or not arrowheads should be drawn.</dd>
<dt><i>gtitloc</i></dt>
<dd>
Indicates if the title be drawn or above ('t') or below ('b') the graph.</dd>
<dt><i>gtitjust</i></dt>
<dd>
Indicates if the title should be center- ('c'), left- ('l'), or right-justified ('r').</dd>
<dt><i>gshowall</i></dt>
<dd>
Draws animals with no links to other ancestors in the pedigree (1) or suppresses them (0).</dd>
<dt>Returns:</dt>
<dd>
A 1 for success and a 0 for failure.</dd>
</dl><br />
</dd>
<dt><a id='pyp_graphics.new_draw_pedigree-function' name='pyp_graphics.new_draw_pedigree-function'><b>new_draw_pedigree(pedobj, gfilename='pedigree', gtitle='', gformat='jpg', gsize='f', gdot=1, gorient='p', gdirec='', gname=0, garrow=1, gtitloc='b', gtitjust='c', gshowall=1, gprog='dot')</b></a> &rArr; integer [<a href='#pyp_graphics.new_draw_pedigree-function'>#</a>]</dt>
<dd>
<p>new_draw_pedigree() uses the pyygraphviz to produce a directed graph of your
pedigree with paths of inheritance as edges and animals as nodes.  If there
is more than one generation in the pedigree as determind by the &quot;gen&quot;
attributes of the animals in the pedigree, draw_pedigree() will use subgraphs
to try and group animals in the same generation together in the drawing.</p>
<dl>
<dt><i>pedobj</i></dt>
<dd>
A PyPedal pedigree object.</dd>
<dt><i>gfilename</i></dt>
<dd>
The name of the file to which the pedigree should be drawn</dd>
<dt><i>gtitle</i></dt>
<dd>
The title of the graph.</dd>
<dt><i>gformat</i></dt>
<dd>
The format in which the output file should be written  (JPG|PNG|PS).</dd>
<dt><i>gsize</i></dt>
<dd>
The size of the graph: 'f': full-size, 'l': letter-sized page.</dd>
<dt><i>gdot</i></dt>
<dd>
Whether or not to write the dot code for the pedigree graph to a file (can produce large files).</dd>
<dt><i>gorient</i></dt>
<dd>
The orientation of the graph: 'p': portrait, 'l': landscape.</dd>
<dt><i>gdirec</i></dt>
<dd>
Direction of flow from parents to offspring: 'TB': top-bottom, 'LR': left-right, 'RL': right-left.</dd>
<dt><i>gname</i></dt>
<dd>
Flag indicating whether ID numbers (0) or names (1) should be used to label nodes.</dd>
<dt><i>garrow</i></dt>
<dd>
Flag indicating whether or not arrowheads should be drawn.</dd>
<dt><i>gtitloc</i></dt>
<dd>
Indicates if the title be drawn or above ('t') or below ('b') the graph.</dd>
<dt><i>gtitjust</i></dt>
<dd>
Indicates if the title should be center- ('c'), left- ('l'), or right-justified ('r').</dd>
<dt><i>gshowall</i></dt>
<dd>
Draws animals with no links to other ancestors in the pedigree (1) or suppresses them (0).</dd>
<dt><i>gprog</i></dt>
<dd>
Specify which program should be used to position and render the graph.</dd>
<dt>Returns:</dt>
<dd>
A 1 for success and a 0 for failure.</dd>
</dl><br />
</dd>
<dt><a id='pyp_graphics.pcolor_matrix_pylab-function' name='pyp_graphics.pcolor_matrix_pylab-function'><b>pcolor_matrix_pylab(A, fname='pcolor_matrix_matplotlib')</b></a> &rArr; lists [<a href='#pyp_graphics.pcolor_matrix_pylab-function'>#</a>]</dt>
<dd>
<p>pcolor_matrix_pylab() implements a matlab-like 'pcolor' function to
display the large elements of a matrix in pseudocolor using the Python Imaging
Library.</p>
<dl>
<dt><i>A</i></dt>
<dd>
Input Numpy matrix (such as a numerator relationship matrix).</dd>
<dt><i>fname</i></dt>
<dd>
Output filename to which to dump the graphics (default 'tmp.png')</dd>
<dt><i>do_outline</i></dt>
<dd>
Whether or not to print an outline around the block (default 0)</dd>
<dt><i>height</i></dt>
<dd>
The height of the image (default 300)</dd>
<dt><i>width</i></dt>
<dd>
The width of the image (default 300)</dd>
<dt>Returns:</dt>
<dd>
A list of Animal() objects; a pedigree metadata object.</dd>
</dl><br />
</dd>
<dt><a id='pyp_graphics.plot_founders_by_year-function' name='pyp_graphics.plot_founders_by_year-function'><b>plot_founders_by_year(pedobj, gfilename='founders_by_year', gtitle='Founders by Birthyear')</b></a> &rArr; integer [<a href='#pyp_graphics.plot_founders_by_year-function'>#</a>]</dt>
<dd>
<p>founders_by_year() uses matplotlib -- if available on your system -- to produce a
bar graph of the number (count) of founders in each birthyear.</p>
<dl>
<dt><i>pedobj</i></dt>
<dd>
A PyPedal pedigree object.</dd>
<dt><i>gfilename</i></dt>
<dd>
The name of the file to which the pedigree should be drawn</dd>
<dt><i>gtitle</i></dt>
<dd>
The title of the graph.</dd>
<dt>Returns:</dt>
<dd>
A 1 for success and a 0 for failure.</dd>
</dl><br />
</dd>
<dt><a id='pyp_graphics.plot_founders_pct_by_year-function' name='pyp_graphics.plot_founders_pct_by_year-function'><b>plot_founders_pct_by_year(pedobj, gfilename='founders_pct_by_year', gtitle='Founders by Birthyear')</b></a> &rArr; integer [<a href='#pyp_graphics.plot_founders_pct_by_year-function'>#</a>]</dt>
<dd>
<p>founders_pct_by_year() uses matplotlib -- if available on your system -- to produce a
line graph of the frequency (percentage) of founders in each birthyear.</p>
<dl>
<dt><i>pedobj</i></dt>
<dd>
A PyPedal pedigree object.</dd>
<dt><i>gfilename</i></dt>
<dd>
The name of the file to which the pedigree should be drawn</dd>
<dt><i>gtitle</i></dt>
<dd>
The title of the graph.</dd>
<dt>Returns:</dt>
<dd>
A 1 for success and a 0 for failure.</dd>
</dl><br />
</dd>
<dt><a id='pyp_graphics.plot_line_xy-function' name='pyp_graphics.plot_line_xy-function'><b>plot_line_xy(xydict, gfilename='plot_line_xy', gtitle='Value by key', gxlabel='X', gylabel='Y', gformat='png')</b></a> &rArr; integer [<a href='#pyp_graphics.plot_line_xy-function'>#</a>]</dt>
<dd>
<p>plot_line_xy() uses matplotlib -- if available on your system -- to produce a
line graph of the values in a dictionary for each level of key.</p>
<dl>
<dt><i>dictionary</i></dt>
<dd>
A Python dictionary</dd>
<dt><i>gfilename</i></dt>
<dd>
The name of the file to which the figure should be written</dd>
<dt><i>gtitle</i></dt>
<dd>
The title of the graph.</dd>
<dt><i>gxlabel</i></dt>
<dd>
The label for the x-axis.</dd>
<dt><i>gylabel</i></dt>
<dd>
The label for the y-axis.</dd>
<dt>Returns:</dt>
<dd>
A 1 for success and a 0 for failure.</dd>
</dl><br />
</dd>
<dt><a id='pyp_graphics.rmuller_get_color-function' name='pyp_graphics.rmuller_get_color-function'><b>rmuller_get_color(a, cmin, cmax)</b></a> &rArr; integer [<a href='#pyp_graphics.rmuller_get_color-function'>#</a>]</dt>
<dd>
<p>rmuller_get_color() Converts a float value to one of a continuous range of colors
using recipe 9.10 from the Python Cookbook.</p>
<dl>
<dt><i>a</i></dt>
<dd>
Float value to convert to a color.</dd>
<dt><i>cmin</i></dt>
<dd>
Minimum value in array (?).</dd>
<dt><i>cmax</i></dt>
<dd>
Maximum value in array (?).</dd>
<dt>Returns:</dt>
<dd>
An RGB triplet.</dd>
</dl><br />
</dd>
<dt><a id='pyp_graphics.rmuller_pcolor_matrix_pil-function' name='pyp_graphics.rmuller_pcolor_matrix_pil-function'><b>rmuller_pcolor_matrix_pil(A, fname='tmp.png', do_outline=0, height=300, width=300)</b></a> &rArr; lists [<a href='#pyp_graphics.rmuller_pcolor_matrix_pil-function'>#</a>]</dt>
<dd>
<p>rmuller_pcolor_matrix_pil() implements a matlab-like 'pcolor' function to
display the large elements of a matrix in pseudocolor using the Python Imaging
Library.</p>
<dl>
<dt><i>A</i></dt>
<dd>
Input Numpy matrix (such as a numerator relationship matrix).</dd>
<dt><i>fname</i></dt>
<dd>
Output filename to which to dump the graphics (default 'tmp.png')</dd>
<dt><i>do_outline</i></dt>
<dd>
Whether or not to print an outline around the block (default 0)</dd>
<dt><i>height</i></dt>
<dd>
The height of the image (default 300)</dd>
<dt><i>width</i></dt>
<dd>
The width of the image (default 300)</dd>
<dt>Returns:</dt>
<dd>
A list of Animal() objects; a pedigree metadata object.</dd>
</dl><br />
</dd>
<dt><a id='pyp_graphics.rmuller_spy_matrix_pil-function' name='pyp_graphics.rmuller_spy_matrix_pil-function'><b>rmuller_spy_matrix_pil(A, fname='tmp.png', cutoff=0.1, do_outline=0, 
height=300, width=300)</b></a> &rArr; None [<a href='#pyp_graphics.rmuller_spy_matrix_pil-function'>#</a>]</dt>
<dd>
<p>rmuller_spy_matrix_pil() implements a matlab-like 'spy' function to display the
sparsity of a matrix using the Python Imaging Library.</p>
<dl>
<dt><i>A</i></dt>
<dd>
Input Numpy matrix (such as a numerator relationship matrix).</dd>
<dt><i>fname</i></dt>
<dd>
Output filename to which to dump the graphics (default 'tmp.png')</dd>
<dt><i>cutoff</i></dt>
<dd>
Threshold value for printing an element (default 0.1)</dd>
<dt><i>do_outline</i></dt>
<dd>
Whether or not to print an outline around the block (default 0)</dd>
<dt><i>height</i></dt>
<dd>
The height of the image (default 300)</dd>
<dt><i>width</i></dt>
<dd>
The width of the image (default 300)</dd>
<dt>Returns:</dt>
<dd>
None</dd>
</dl><br />
</dd>
<dt><a id='pyp_graphics.spy_matrix_pylab-function' name='pyp_graphics.spy_matrix_pylab-function'><b>spy_matrix_pylab(A, fname='spy_matrix_matplotlib')</b></a> &rArr; lists [<a href='#pyp_graphics.spy_matrix_pylab-function'>#</a>]</dt>
<dd>
<p>spy_matrix_pylab() implements a matlab-like 'pcolor' function to
display the large elements of a matrix in pseudocolor using the Python Imaging
Library.</p>
<dl>
<dt><i>A</i></dt>
<dd>
Input Numpy matrix (such as a numerator relationship matrix).</dd>
<dt><i>fname</i></dt>
<dd>
Output filename to which to dump the graphics (default 'tmp.png')</dd>
<dt><i>do_outline</i></dt>
<dd>
Whether or not to print an outline around the block (default 0)</dd>
<dt><i>height</i></dt>
<dd>
The height of the image (default 300)</dd>
<dt><i>width</i></dt>
<dd>
The width of the image (default 300)</dd>
<dt>Returns:</dt>
<dd>
A list of Animal() objects; a pedigree metadata object.</dd>
</dl><br />
</dd>
</dl>
</body></html>
